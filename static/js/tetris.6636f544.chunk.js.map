{"version":3,"sources":["../node_modules/classnames/index.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","components/tetris/GameBoard.jsx","components/tetris/GameBoard.js","components/tetris/NextFigurePreview.jsx","components/tetris/GameSettings.jsx","components/tetris/GameStats.jsx","components/tetris/GameStats.js","components/tetris/GameInfo.jsx","components/tetris/Tetris.jsx","components/tetris/Tetris.js"],"names":["__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","undefined","_objectWithoutProperties","source","excluded","target","Object","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","GameBoard","_ref","board","gameState","react_default","a","createElement","className","map","tr","cellState","y","cellClass","cn","concat","defaultProps","connect","state","select","getBoardCells","tetris","actionCreators","NextFigurePreview","tetrisConfig","speed","min","max","GameSettings","score","canAdjustSpeed","incSpeed","decSpeed","handleDecSpeedBtn","useCallback","handleIncSpeedBtn","onClick","disabled","GameStats","nextFigurePreview","actions","buttonByState","initial","title","action","startGame","started","stopGame","paused","finished","handleGameButton","e","blur","components_tetris_NextFigurePreview","components_tetris_GameSettings","increaseGameSpeed","decreaseGameSpeed","getNextFigurePreview","GameInfo","aria-label","Tetris","game","useRef","useEffect","current","keydownListener","keyCode","pauseGame","resumeGame","tryFigureLeft","tryFigureRight","tryFigureDown","tryRotateFigure","document","addEventListener","removeEventListener","Header","canHome","components_tetris_GameInfo","src_components_tetris_GameBoard","src_components_tetris_GameStats","gamesState"],"mappings":"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","file":"static/js/tetris.6636f544.chunk.js","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\nimport './GameBoard.css';\r\n\r\nconst GameBoard = ({ board, gameState }) => (\r\n  <div className=\"game-board-container\">\r\n    <table className=\"game-board\">\r\n      <tbody className=\"game-board__body\">\r\n        {board.map((tr, i) => (\r\n          <tr className=\"game-board__row\" key={i}>\r\n            {tr.map((cellState, y) => {\r\n              const cellClass = cn(\r\n                'game-board__cell',\r\n                `game-board__cell--${cellState}`,\r\n              );\r\n              return <td className={cellClass} key={y} />;\r\n            })}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n    {gameState === 'paused' && (\r\n      <div className=\"game-board-container__paused-overlay\" />\r\n    )}\r\n  </div>\r\n);\r\n\r\nGameBoard.defaultProps = {\r\n  board: [],\r\n  gameState: 'initial',\r\n};\r\n\r\nGameBoard.propTypes = {\r\n  board: PropTypes.arrayOf(PropTypes.array).isRequired,\r\n  gameState: PropTypes.oneOf(['initial', 'started', 'paused', 'finished']).isRequired,\r\n};\r\n\r\nexport default GameBoard;\r\n","import { connect } from 'react-redux';\nimport * as actionCreators from 'actions';\nimport * as select from 'selectors';\nimport GameBoard from './GameBoard.jsx';\n\nconst mapStateToProps = state => ({\n  board: select.tetris.getBoardCells(state),\n  gameState: state.tetris.gameState,\n});\n\nexport default connect(mapStateToProps, actionCreators.tetris)(GameBoard);\n","import React from 'react';\nimport cn from 'classnames';\nimport './NextFigurePreview.css';\n\nconst NextFigurePreview = ({ board }) => (\n  <div className=\"tetris-game-stats__next-figure\">\n    <table className=\"next-figure-board\">\n      {board.length > 0 && <caption className=\"next-figure-board__caption\">Next Figure</caption>}\n      <tbody className=\"next-figure-board__body\">\n        {board.map((tr, i) => (\n          <tr className=\"next-figure-board__row\" key={i}>\n            {tr.map((cellState, y) => {\n              const cellClass = cn(\n                'next-figure-board__cell',\n                `next-figure-board__cell--${cellState}`,\n              );\n              return <td className={cellClass} key={y} />;\n            })}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  </div>\n);\n\nexport default NextFigurePreview;\n","import React, { useCallback } from 'react';\nimport { tetrisConfig } from 'constants/config.js';\nimport './GameSettings.css';\n\nconst { speed: { min, max } } = tetrisConfig;\n\nconst GameSettings = ({\n  speed,\n  score,\n  canAdjustSpeed,\n  incSpeed,\n  decSpeed,\n}) => {\n  const handleDecSpeedBtn = useCallback(\n    () => {\n      decSpeed();\n    },\n    [decSpeed],\n  );\n  const handleIncSpeedBtn = useCallback(\n    () => {\n      incSpeed();\n    },\n    [incSpeed],\n  );\n\n  return (\n    <div className=\"tetris-game-stats__settings\">\n      <div className=\"tetris-game-stats__speed\">\n        {canAdjustSpeed && (\n          <button\n            className=\"tetris-game-stats__speed-btn tetris-game-stats__speed-btn--dec\"\n            onClick={handleDecSpeedBtn}\n            disabled={speed === min}\n          />)}\n        <p className=\"tetris-game-stats__speed-value\">Speed: {speed}</p>\n        {canAdjustSpeed && (\n          <button\n            className=\"tetris-game-stats__speed-btn tetris-game-stats__speed-btn--inc\"\n            onClick={handleIncSpeedBtn}\n            disabled={speed === max}\n          />)}\n      </div>\n      <div className=\"tetris-game-stats__score\">\n        <p className=\"tetris-game-stats__score-value\">Score: {score}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default GameSettings;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport NextFigurePreview from './NextFigurePreview.jsx';\nimport GameSettings from './GameSettings.jsx';\nimport './GameStats.css';\n\nconst GameStats = ({\n  score,\n  speed,\n  gameState,\n  canAdjustSpeed,\n  nextFigurePreview,\n  ...actions\n}) => {\n  const buttonByState = {\n    initial: {\n      title: 'Start New Game',\n      action: actions.startGame,\n    },\n    started: {\n      title: 'Stop Game',\n      action: actions.stopGame,\n    },\n    paused: {\n      title: 'Stop Game',\n      action: actions.stopGame,\n    },\n    finished: {\n      title: 'Start New Game',\n      action: actions.startGame,\n    },\n  };\n\n  const getButtonTitle = () => buttonByState[gameState].title;\n\n  const handleGameButton = useCallback(\n    (e) => {\n      // blur focus to use [space] in game\n      e.target.blur();\n      buttonByState[gameState].action()\n    },\n    [gameState, buttonByState],\n  );\n\n  return (\n    <div className=\"tetris-game-stats\">\n      <h2 className=\"tetris-game-stats__title\">Game Stats</h2>\n      <NextFigurePreview board={nextFigurePreview} />\n\n      <GameSettings\n        speed={speed}\n        score={score}\n        incSpeed={actions.increaseGameSpeed}\n        decSpeed={actions.decreaseGameSpeed}\n        canAdjustSpeed={canAdjustSpeed}\n      />\n\n      <button className=\"tetris-game-stats__game-button\" onClick={handleGameButton}>\n        {getButtonTitle()}\n      </button>\n    </div>\n  );\n};\n\nGameStats.propTypes = {\n  gameState: PropTypes.oneOf(['initial', 'started', 'paused', 'finished']).isRequired,\n  speed: PropTypes.number.isRequired,\n  score: PropTypes.number.isRequired,\n  nextFigurePreview: PropTypes.array.isRequired,\n  canAdjustSpeed: PropTypes.bool.isRequired,\n};\n\nGameStats.defaultProps = {\n  gameState: 'initial',\n  speed: 1,\n  score: 0,\n  nextFigurePreview: [],\n  canAdjustSpeed: true,\n};\n\nexport default GameStats;\n","import { connect } from 'react-redux';\nimport * as actionCreators from 'actions';\nimport * as select from 'selectors';\nimport GameStats from './GameStats.jsx';\n\nconst mapStateToProps = state => ({\n  gameState: state.tetris.gameState,\n  speed: state.tetris.speed,\n  score: state.tetris.score,\n  nextFigurePreview: select.tetris.getNextFigurePreview(state),\n  canAdjustSpeed: select.tetris.canAdjustSpeed(state),\n});\n\nexport default connect(mapStateToProps, actionCreators.tetris)(GameStats);\n","import React from 'react';\nimport './GameInfo.css';\n\nconst GameInfo = () => (\n  <div className=\"tetris-game-info\">\n    <h2 className=\"tetris-game-info__title\">Game info</h2>\n\n    <div className=\"tetris-game-info__paragraph\">\n      <span>Use</span>\n      <div className=\"tetris-game-info__arrows\" aria-label=\"keyboard arrows\">\n        <kbd className=\"tetris-game-info__arrow tetris-game-info__arrow--top\" />\n        <div className=\"tetris-game-info__arrows-bottom-layout\">\n          <kbd className=\"tetris-game-info__arrow tetris-game-info__arrow--left\" />\n          <kbd className=\"tetris-game-info__arrow tetris-game-info__arrow--down\" />\n          <kbd className=\"tetris-game-info__arrow tetris-game-info__arrow--right\" />\n        </div>\n      </div>\n      <span>to move figure</span>\n    </div>\n\n    <div className=\"tetris-game-info__paragraph\">\n      <span className=\"tetris-game-info__phrase\">Press</span>\n      <kbd className=\"tetris-game-info__key\">[Space]</kbd>\n      <span className=\"tetris-game-info__phrase\">to rotate figure</span>\n    </div>\n\n    <div className=\"tetris-game-info__paragraph\">\n      <span className=\"tetris-game-info__phrase\">Press</span>\n      <kbd className=\"tetris-game-info__key tetris-game-info__key--pause\">[Shift]</kbd>\n      <span className=\"tetris-game-info__phrase\">to pause/unpause game</span>\n    </div>\n  </div>\n);\n\nexport default GameInfo;\n","import React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from 'components/common/Header.jsx';\nimport GameBoard from './GameBoard.js';\nimport GameStats from './GameStats.js';\nimport GameInfo from './GameInfo.jsx';\nimport './Tetris.css';\n\nconst Tetris = ({ gameState, ...actions }) => {\n  // use \"refed\" game state for key listener\n  const game = useRef(gameState);\n\n  useEffect(() => {\n    game.current = gameState;\n    const keydownListener = (e) => {\n      if (game.current !== 'started' && game.current !== 'paused') {\n        return;\n      }\n\n      switch (e.keyCode) {\n        // shift\n        case 16: {\n          if (game.current === 'started') {\n            actions.pauseGame();\n            break;\n          }\n          if (game.current === 'paused') {\n            actions.resumeGame();\n          }\n          break;\n        }\n        // arrow left\n        case 37: {\n          if (game.current === 'started') {\n            actions.tryFigureLeft();\n          }\n          break;\n        }\n        // arrow right\n        case 39: {\n          if (game.current === 'started') {\n            actions.tryFigureRight();\n          }\n          break;\n        }\n        // arrow down\n        case 40: {\n          if (game.current === 'started') {\n            actions.tryFigureDown();\n          }\n          break;\n        }\n        // space\n        case 32: {\n          if (game.current === 'started') {\n            actions.tryRotateFigure();\n          }\n          break;\n        }\n        default: break;\n      }\n    };\n    document.addEventListener('keydown', keydownListener);\n    return () => {\n      if (game.current === 'started') {\n        actions.pauseGame();\n      }\n      document.removeEventListener('keydown', keydownListener);\n    };\n  }, [actions, gameState]);\n\n  return (\n    <div className=\"main-container\">\n      <Header title=\"Tetris\" canHome />\n      <main className=\"game-body\">\n        <GameInfo />\n        <GameBoard />\n        <GameStats />\n      </main>\n    </div>\n  );\n};\n\nTetris.propTypes = {\n  gameState: PropTypes.oneOf(['initial', 'started', 'paused', 'finished']).isRequired,\n};\n\nTetris.defaultProps = {\n  gamesState: 'initial',\n};\n\nexport default Tetris;\n","import { connect } from 'react-redux';\nimport * as actionCreators from 'actions';\nimport Tetris from './Tetris.jsx';\n\nconst mapStateToProps = state => ({\n  gameState: state.tetris.gameState,\n});\n\nexport default connect(mapStateToProps, actionCreators.tetris)(Tetris);\n"],"sourceRoot":""}