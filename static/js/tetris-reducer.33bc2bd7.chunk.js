(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{82:function(e,t,n){"use strict";n.r(t);var i,r=n(35),a=n(17),c=n(62),u=n(8),l=n(28),o=n(41),f=n(40),b=n(7),h=l.a.board,s=h.cols,d=h.rows,O=Object(c.a)((i={},Object(r.a)(i,u.a.stopGame,function(){return Object(f.b)(s,d)}),Object(r.a)(i,u.a.startGame,function(){return Object(f.b)(s,d)}),Object(r.a)(i,u.a.collideFigure,function(e,t){var n=t.payload.currentFigure.getCells();return e.map(function(e){return e.map(function(e){return n.find(function(t){return Object(b.d)(t,e)})||e})})}),Object(r.a)(i,u.a.selectCompletedRow,function(e,t){var n=t.payload.rowIndex,i=e.slice(0,n),r=e.slice(n+1);return[].concat(Object(o.a)(i),[Object(f.c)(s,n)],Object(o.a)(r))}),Object(r.a)(i,u.a.removeCompletedRow,function(e,t){var n=t.payload.rowIndex,i=e.slice(0,n).map(function(e){return e.map(function(e){return Object(b.f)(e)})}),r=e.slice(n+1);return[Object(f.a)(s,0)].concat(Object(o.a)(i),Object(o.a)(r))}),i),Object(f.b)(s,d)),j=n(39),v=n(72),g=n(11),p=n(64),m=n(65),w=n(69),y=n(67),k=n(66),C=n(70),S=n(68),z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.a)([0,0]),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"down";Object(p.a)(this,e),this.head=t,this.direction=n}return Object(m.a)(e,[{key:"getCells",value:function(){return[]}}]),e}(),H=function(e){function t(){var e,n;Object(p.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Object(w.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r))),Object.defineProperty(Object(k.a)(n),P,{writable:!0,value:"I"}),n}return Object(C.a)(t,e),Object(m.a)(t,[{key:"getSize",value:function(){return t.alignment[this.direction].getSize()}},{key:"getCells",value:function(){return t.alignment[this.direction].getCells(this.head)}},{key:"rotate",value:function(){return t.alignment[this.direction].rotate(this.head)}},{key:"setPosition",value:function(e,n){return new t(Object(b.a)([e,n],"filled"),this.direction)}},{key:"move",value:function(e,n){var i=Object(b.b)(this.head),r=Object(g.a)(i,2),a=r[0],c=r[1];return new t(Object(b.a)([a+e,c+n],"filled"),this.direction)}},{key:"moveDown",value:function(){return this.move(0,1)}},{key:"moveLeft",value:function(){return this.move(-1,0)}},{key:"moveRight",value:function(){return this.move(1,0)}}]),t}(z),P=Object(S.a)("type");H.alignment={down:{direction:"down",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new H(e,"right")},getCells:function(e){for(var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1],c=a;c<a+4;c+=1)t.push(Object(b.a)([r,c],"filled"));return t},getSize:function(){return{height:4,width:1}}},right:{direction:"right",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new H(e,"down")},getCells:function(e){for(var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1],c=r-2;c<r+2;c+=1)t.push(Object(b.a)([c,a],"filled"));return t},getSize:function(){return{height:1,width:4}}}};var R=function(e){function t(){var e,n;Object(p.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Object(w.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r))),Object.defineProperty(Object(k.a)(n),G,{writable:!0,value:"J"}),n}return Object(C.a)(t,e),Object(m.a)(t,[{key:"getSize",value:function(){return t.alignment[this.direction].getSize()}},{key:"getCells",value:function(){return t.alignment[this.direction].getCells(this.head)}},{key:"rotate",value:function(){return t.alignment[this.direction].rotate(this.head)}},{key:"setPosition",value:function(e,n){return new t(Object(b.a)([e,n],"filled"),this.direction)}},{key:"move",value:function(e,n){var i=Object(b.b)(this.head),r=Object(g.a)(i,2),a=r[0],c=r[1];return new t(Object(b.a)([a+e,c+n],"filled"),this.direction)}},{key:"moveDown",value:function(){return this.move(0,1)}},{key:"moveLeft",value:function(){return this.move(-1,0)}},{key:"moveRight",value:function(){return this.move(1,0)}}]),t}(z),G=Object(S.a)("type");R.alignment={down:{direction:"down",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new R(e,"left")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r-1,a],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r+1,a+1],"filled")),t},getSize:function(){return{height:2,width:3}}},left:{direction:"left",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new R(e,"up")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r-1,a],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t.push(Object(b.a)([r-1,a+2],"filled")),t.push(Object(b.a)([r,a],"filled")),t},getSize:function(){return{height:3,width:2}}},up:{direction:"up",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new R(e,"right")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r+1,a+1],"filled")),t.push(Object(b.a)([r-1,a],"filled")),t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r+1,a],"filled")),t},getSize:function(){return{height:2,width:3}}},right:{direction:"right",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new R(e,"down")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r,a+2],"filled")),t.push(Object(b.a)([r-1,a+2],"filled")),t},getSize:function(){return{height:3,width:2}}}};var D=function(e){function t(){var e,n;Object(p.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Object(w.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r))),Object.defineProperty(Object(k.a)(n),F,{writable:!0,value:"L"}),n}return Object(C.a)(t,e),Object(m.a)(t,[{key:"getSize",value:function(){return t.alignment[this.direction].getSize()}},{key:"getCells",value:function(){return t.alignment[this.direction].getCells(this.head)}},{key:"rotate",value:function(){return t.alignment[this.direction].rotate(this.head)}},{key:"setPosition",value:function(e,n){return new t(Object(b.a)([e,n],"filled"),this.direction)}},{key:"move",value:function(e,n){var i=Object(b.b)(this.head),r=Object(g.a)(i,2),a=r[0],c=r[1];return new t(Object(b.a)([a+e,c+n],"filled"),this.direction)}},{key:"moveDown",value:function(){return this.move(0,1)}},{key:"moveLeft",value:function(){return this.move(-1,0)}},{key:"moveRight",value:function(){return this.move(1,0)}}]),t}(z),F=Object(S.a)("type");D.alignment={down:{direction:"down",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new D(e,"left")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r+1,a],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r+1,a+1],"filled")),t},getSize:function(){return{height:2,width:3}}},left:{direction:"left",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new D(e,"up")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r-1,a],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t.push(Object(b.a)([r-1,a+2],"filled")),t.push(Object(b.a)([r,a+2],"filled")),t},getSize:function(){return{height:3,width:2}}},up:{direction:"up",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new D(e,"right")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r-1,a+1],"filled")),t.push(Object(b.a)([r-1,a],"filled")),t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r+1,a],"filled")),t},getSize:function(){return{height:2,width:3}}},right:{direction:"right",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new D(e,"down")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r,a+2],"filled")),t.push(Object(b.a)([r-1,a],"filled")),t},getSize:function(){return{height:3,width:2}}}};var L=function(e){function t(){var e,n;Object(p.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Object(w.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r))),Object.defineProperty(Object(k.a)(n),x,{writable:!0,value:"O"}),n}return Object(C.a)(t,e),Object(m.a)(t,[{key:"getSize",value:function(){return t.alignment[this.direction].getSize()}},{key:"getCells",value:function(){return t.alignment[this.direction].getCells(this.head)}},{key:"rotate",value:function(){return this}},{key:"setPosition",value:function(e,n){return new t(Object(b.a)([e,n],"filled"),this.direction)}},{key:"move",value:function(e,n){var i=Object(b.b)(this.head),r=Object(g.a)(i,2),a=r[0],c=r[1];return new t(Object(b.a)([a+e,c+n],"filled"),this.direction)}},{key:"moveDown",value:function(){return this.move(0,1)}},{key:"moveLeft",value:function(){return this.move(-1,0)}},{key:"moveRight",value:function(){return this.move(1,0)}}]),t}(z),x=Object(S.a)("type");L.alignment={normal:{direction:"normal",startHead:Object(b.a)([5,0],"filled"),getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r-1,a],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t},getSize:function(){return{height:2,width:2}}}};var A=function(e){function t(){var e,n;Object(p.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Object(w.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r))),Object.defineProperty(Object(k.a)(n),I,{writable:!0,value:"S"}),n}return Object(C.a)(t,e),Object(m.a)(t,[{key:"getSize",value:function(){return t.alignment[this.direction].getSize()}},{key:"getCells",value:function(){return t.alignment[this.direction].getCells(this.head)}},{key:"rotate",value:function(){return t.alignment[this.direction].rotate(this.head)}},{key:"setPosition",value:function(e,n){return new t(Object(b.a)([e,n],"filled"),this.direction)}},{key:"move",value:function(e,n){var i=Object(b.b)(this.head),r=Object(g.a)(i,2),a=r[0],c=r[1];return new t(Object(b.a)([a+e,c+n],"filled"),this.direction)}},{key:"moveDown",value:function(){return this.move(0,1)}},{key:"moveLeft",value:function(){return this.move(-1,0)}},{key:"moveRight",value:function(){return this.move(1,0)}}]),t}(z),I=Object(S.a)("type");A.alignment={down:{direction:"down",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new A(e,"left")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r+1,a],"filled")),t},getSize:function(){return{height:2,width:3}}},left:{direction:"left",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new A(e,"down")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r-1,a],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r,a+2],"filled")),t},getSize:function(){return{height:3,width:2}}}};var J=function(e){function t(){var e,n;Object(p.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Object(w.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r))),Object.defineProperty(Object(k.a)(n),N,{writable:!0,value:"T"}),n}return Object(C.a)(t,e),Object(m.a)(t,[{key:"getSize",value:function(){return t.alignment[this.direction].getSize()}},{key:"getCells",value:function(){return t.alignment[this.direction].getCells(this.head)}},{key:"rotate",value:function(){return t.alignment[this.direction].rotate(this.head)}},{key:"setPosition",value:function(e,n){return new t(Object(b.a)([e,n],"filled"),this.direction)}},{key:"move",value:function(e,n){var i=Object(b.b)(this.head),r=Object(g.a)(i,2),a=r[0],c=r[1];return new t(Object(b.a)([a+e,c+n],"filled"),this.direction)}},{key:"moveDown",value:function(){return this.move(0,1)}},{key:"moveLeft",value:function(){return this.move(-1,0)}},{key:"moveRight",value:function(){return this.move(1,0)}}]),t}(z),N=Object(S.a)("type");J.alignment={down:{direction:"down",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new J(e,"left")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r+1,a+1],"filled")),t},getSize:function(){return{height:2,width:3}}},left:{direction:"left",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new J(e,"up")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r,a+2],"filled")),t.push(Object(b.a)([r+1,a+1],"filled")),t},getSize:function(){return{height:3,width:2}}},up:{direction:"up",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new J(e,"right")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r-1,a],"filled")),t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r+1,a],"filled")),t},getSize:function(){return{height:2,width:3}}},right:{direction:"right",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new J(e,"down")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r,a+2],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t},getSize:function(){return{height:3,width:2}}}};var T=function(e){function t(){var e,n;Object(p.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Object(w.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r))),Object.defineProperty(Object(k.a)(n),Z,{writable:!0,value:"Z"}),n}return Object(C.a)(t,e),Object(m.a)(t,[{key:"getSize",value:function(){return t.alignment[this.direction].getSize()}},{key:"getCells",value:function(){return t.alignment[this.direction].getCells(this.head)}},{key:"rotate",value:function(){return t.alignment[this.direction].rotate(this.head)}},{key:"setPosition",value:function(e,n){return new t(Object(b.a)([e,n],"filled"),this.direction)}},{key:"move",value:function(e,n){var i=Object(b.b)(this.head),r=Object(g.a)(i,2),a=r[0],c=r[1];return new t(Object(b.a)([a+e,c+n],"filled"),this.direction)}},{key:"moveDown",value:function(){return this.move(0,1)}},{key:"moveLeft",value:function(){return this.move(-1,0)}},{key:"moveRight",value:function(){return this.move(1,0)}}]),t}(z),Z=Object(S.a)("type");T.alignment={down:{direction:"down",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new T(e,"left")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r-1,a],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r+1,a+1],"filled")),t},getSize:function(){return{height:2,width:3}}},left:{direction:"left",startHead:Object(b.a)([5,0],"filled"),rotate:function(e){return new T(e,"down")},getCells:function(e){var t=[],n=Object(b.b)(e),i=Object(g.a)(n,2),r=i[0],a=i[1];return t.push(Object(b.a)([r,a],"filled")),t.push(Object(b.a)([r-1,a+1],"filled")),t.push(Object(b.a)([r,a+1],"filled")),t.push(Object(b.a)([r-1,a+2],"filled")),t},getSize:function(){return{height:3,width:2}}}};var q,B,E,K,M=function(e){return function(){var t=function(e){return Object(v.sample)(Object(v.keys)(e.alignment))}(e);return new e(e.alignment[t].startHead,t)}},Q=[M(H),M(R),M(D),M(L),M(A),M(J),M(T)],U=function(){return Object(v.sample)(Q)()},V={current:null,next:null},W=Object(c.a)((q={},Object(r.a)(q,u.a.setCurrentFigure,function(e){return Object(j.a)({},e,{current:e.next||U()})}),Object(r.a)(q,u.a.setNextFigure,function(e){return Object(j.a)({},e,{next:U()})}),Object(r.a)(q,u.a.collideFigure,function(e){return Object(j.a)({},e,{current:null})}),Object(r.a)(q,u.a.moveFigureDown,function(e){return Object(j.a)({},e,{current:e.current.moveDown()})}),Object(r.a)(q,u.a.moveFigureLeft,function(e){return Object(j.a)({},e,{current:e.current.moveLeft()})}),Object(r.a)(q,u.a.moveFigureRight,function(e){return Object(j.a)({},e,{current:e.current.moveRight()})}),Object(r.a)(q,u.a.rotateFigure,function(e){return Object(j.a)({},e,{current:e.current.rotate()})}),Object(r.a)(q,u.a.fallFigureDown,function(e){return Object(j.a)({},e,{current:e.current.moveDown()})}),Object(r.a)(q,u.a.stopGame,function(){return V}),q),V),X=l.a.speed,Y=X.min,$=X.max,_=X.init,ee=l.a.score,te=ee.collision,ne=ee.completedRow,ie=Object(c.a)((B={},Object(r.a)(B,u.a.startGame,function(){return"started"}),Object(r.a)(B,u.a.stopGame,function(){return"initial"}),Object(r.a)(B,u.a.finishGame,function(){return"finished"}),Object(r.a)(B,u.a.pauseGame,function(){return"paused"}),Object(r.a)(B,u.a.resumeGame,function(){return"started"}),B),"initial"),re=Object(c.a)((E={},Object(r.a)(E,u.a.increaseGameSpeed,function(e){return e===$?e:e+1}),Object(r.a)(E,u.a.decreaseGameSpeed,function(e){return e===Y?e:e-1}),E),_),ae=Object(c.a)((K={},Object(r.a)(K,u.a.collideFigure,function(e,t){var n=t.payload;return e+te*n.speed}),Object(r.a)(K,u.a.removeCompletedRow,function(e,t){var n=t.payload.modificator;return e+ne*n}),Object(r.a)(K,u.a.startGame,function(){return 0}),Object(r.a)(K,u.a.stopGame,function(){return 0}),K),0);t.default=Object(a.c)({gameState:ie,board:O,figure:W,speed:re,score:ae})}}]);
//# sourceMappingURL=tetris-reducer.33bc2bd7.chunk.js.map